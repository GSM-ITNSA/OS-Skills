# CA

## Certificate(인증서)란 ?
```
우선 인증기관에 대해 알기 전에 인증서에 대해 알아야 한다.

디지털 인증서는 공개 키 암호화 시스템에서 사용되는 중요한 보안 요소로, 특정한 엔터티의 공개 키와 해당 엔터티의 신원 정보를 포함하는 전자 문서이다.

이 인증서는 정보의 안전한 전송 및 통신에 사용되며, 주로 공개 키 인프라(Public Key Infrastructure, PKI) 시스템에서 활용된다.

디지털 인증서는 보안 통신에서 다양한 목적으로 사용된다.
가장 일반적인 용도 중 하나는 웹사이트와 사용자 간의 안전한 통신을 위한 HTTPS 프로토콜에서 사용되는 것이다.

따라서 브라우저는 웹사이트의 디지털 인증서를 확인하여 해당 사이트가 안전하게 통신할 수 있는 신뢰성 있는 엔터티임을 확인한다.
```
다음은 웹 페이지의 인증서이다.

<img src="./Images/CA_https_certificate.png" width="700">

인증서에는 다음과 같은 정보들을 포함하고 있습니다.
- 서비스 정보(인증서를 발급한 CA, 서비스의 도메인 등)
- 서버 측 공개키(공개키, 공개키 암호화 알고리즘)
- 지문, 디지털 서명 등

## CA (Certificate Authority) 란 ?
```
인증서를 발급해주는 기관

아무 기업이나 할 수 있는 게 아니라 신뢰성이 엄격하게 공인된 기업들만 할 수 있다.
TLS 통신을 하려면 이 CA를 통하여 인증서를 발급받아야 한다.

CA는 자체적으로 공개키와 개인키를 가지며, 개인키는 절대 누설되면 안된다.
```

## CA에서 인증서를 발급받는 과정

1. 인증서 신청 및 CSR 생성: 
   - 사용자(Entity 또는 개인)는 웹브라우저나 다른 도구를 사용하여 인증기관에게 디지털 인증서를 요청하는 CSR(Certificate Signing Request)을 생성한다.
   - CSR은 디지털 인증서를 발급하기 위해 해당 인증기관에게 제출되는 요청서로, CSR에는 키쌍(공개 키, 개인 키)와 신원정보가 포함되어 있다.

2. CSR 제출:
   - 사용자는 생성한 CSR을 인증기관에게 제출한다.

3. CSR 확인 및 신원 확인:
   - 인증기관은 사용자의 CSR을 확인하고, 해당 사용자의 신원을 검증한다. 
   - 이 과정은 주로 사용자의 도메인 소유 여부 및 조직 정보의 일치 여부를 확인하는 과정을 포함한다.
   - 이떄, CSR의 지문(fingerprint)가 계산되기 시작한다, 이 지문은 CSR의 내용에 대한 해시 값으로, 해당 CSR의 고유한 식별자 역할을 한다.

4. 디지털 서명 생성 및 삽입:
   - 사용자의 CSR을 검증하고 사용자의 신원이 확인되면, 인증 기관은 CSR에 대한 디지털 서명을 생성한다.
   - 이 서명은 인증 기관의 개인 키로 암호화되며, CSR의 내용을 증명하는 역할을 한다.
   - 생성된 디지털 서명은 CSR에 삽입되어 최종적으로 CSR에 디지털 서명이 포함된 인증서가 생성된다.

5. 지문 생성: 
   - 발급된 인증서의 지문(fingerprint)이 계산됩니다. 이 지문은 해당 인증서의 고유한 식별자로 사용된다.

6. 인증서 수령 및 설치:
   - 발급된 디지털 인증서는 인증서의 지문과 함께 사용자에게 전달된다.
   - 사용자는 이 인증서를 안전한 장소에 저장하거나, 웹 서버 또는 다른 네트워크 기기에 설치하여 사용한다.

7. 지문 검증:
   - 사용자 또는 클라이언트는 인증서의 지문을 사용하여 해당 인증서의 유효성을 검증할 수 있다. 이는 서버의 공개 키와 인증서의 지문을 비교하여 이뤄진다.

8. 주기적 갱신:
   - 디지털 인증서는 일정 기간 동안만 유효하며, 유효 기간이 지나면 갱신이 필요하다.
   - 사용자는 주기적으로 인증기관에게 갱신으로 요청하여 유효한 인증서를 유지한다.
